{"ast":null,"code":"// src/components/CodeEditorWithSuggestions.js\nimport React,{useState}from'react';import{MonacoEditor}from'@monaco-editor/react';import axios from'axios';import{Editor}from'@monaco-editor/react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CodeEditorWithSuggestions=()=>{const[code,setCode]=useState('');const[suggestions,setSuggestions]=useState('');const[output,setOutput]=useState('');const fetchSuggestions=async()=>{try{const response=await axios.post('http://localhost:5000/api/code/suggestions',{code});setSuggestions(response.data);}catch(error){console.error('Error fetching suggestions:',error);}};const compileCode=async()=>{try{const response=await axios.post('http://localhost:5000/api/code/compile',{code});setOutput(response.data.output);}catch(error){console.error('Error compiling code:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'10px'},children:[/*#__PURE__*/_jsx(Editor,{height:\"100%\",language:\"javascript\"// 可以根据需要更改语言\n,value:code,onChange:value=>setCode(value),options:{selectOnLineNumbers:true}}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchSuggestions,children:\"\\u83B7\\u53D6\\u5EFA\\u8BAE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:compileCode,children:\"\\u7F16\\u8BD1\\u4EE3\\u7801\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u8F93\\u51FA\\u7ED3\\u679C:\"}),/*#__PURE__*/_jsx(\"pre\",{children:output})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'300px',padding:'10px',borderLeft:'1px solid #ccc'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AI\\u5EFA\\u8BAE:\"}),/*#__PURE__*/_jsx(\"pre\",{children:suggestions})]})]});};export default CodeEditorWithSuggestions;","map":{"version":3,"names":["React","useState","MonacoEditor","axios","Editor","jsx","_jsx","jsxs","_jsxs","CodeEditorWithSuggestions","code","setCode","suggestions","setSuggestions","output","setOutput","fetchSuggestions","response","post","data","error","console","compileCode","style","display","height","children","flex","padding","language","value","onChange","options","selectOnLineNumbers","onClick","width","borderLeft"],"sources":["E:/cursor_edu/x-code/frontend/src/components/CodeEditorWithSuggestions.js"],"sourcesContent":["   // src/components/CodeEditorWithSuggestions.js\r\n   import React, { useState } from 'react';\r\n   import { MonacoEditor } from '@monaco-editor/react';\r\n   import axios from 'axios';\r\n   import { Editor } from '@monaco-editor/react'; \r\n\r\n   const CodeEditorWithSuggestions = () => {\r\n       const [code, setCode] = useState('');\r\n       const [suggestions, setSuggestions] = useState('');\r\n       const [output, setOutput] = useState('');\r\n\r\n       const fetchSuggestions = async () => {\r\n           try {\r\n               const response = await axios.post('http://localhost:5000/api/code/suggestions', { code });\r\n               setSuggestions(response.data);\r\n           } catch (error) {\r\n               console.error('Error fetching suggestions:', error);\r\n           }\r\n       };\r\n\r\n       const compileCode = async () => {\r\n           try {\r\n               const response = await axios.post('http://localhost:5000/api/code/compile', { code });\r\n               setOutput(response.data.output);\r\n           } catch (error) {\r\n               console.error('Error compiling code:', error);\r\n           }\r\n       };\r\n\r\n       return (\r\n           <div style={{ display: 'flex', height: '100vh' }}>\r\n               <div style={{ flex: 1, padding: '10px' }}>\r\n                   <Editor\r\n                       height=\"100%\"\r\n                       language=\"javascript\" // 可以根据需要更改语言\r\n                       value={code}\r\n                       onChange={(value) => setCode(value)}\r\n                       options={{ selectOnLineNumbers: true }}\r\n                   />\r\n                   <button onClick={fetchSuggestions}>获取建议</button>\r\n                   <button onClick={compileCode}>编译代码</button>\r\n                   <div>\r\n                       <h3>输出结果:</h3>\r\n                       <pre>{output}</pre>\r\n                   </div>\r\n               </div>\r\n               <div style={{ width: '300px', padding: '10px', borderLeft: '1px solid #ccc' }}>\r\n                   <h3>AI建议:</h3>\r\n                   <pre>{suggestions}</pre>\r\n               </div>\r\n           </div>\r\n       );\r\n   };\r\n\r\n   export default CodeEditorWithSuggestions;"],"mappings":"AAAG;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,YAAY,KAAQ,sBAAsB,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,yBAAyB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAe,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAAC,4CAA4C,CAAE,CAAER,IAAK,CAAC,CAAC,CACzFG,cAAc,CAACI,QAAQ,CAACE,IAAI,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACvD,CACJ,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAAC,wCAAwC,CAAE,CAAER,IAAK,CAAC,CAAC,CACrFK,SAAS,CAACE,QAAQ,CAACE,IAAI,CAACL,MAAM,CAAC,CACnC,CAAE,MAAOM,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CACJ,CAAC,CAED,mBACIZ,KAAA,QAAKe,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAC7ClB,KAAA,QAAKe,KAAK,CAAE,CAAEI,IAAI,CAAE,CAAC,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAF,QAAA,eACrCpB,IAAA,CAACF,MAAM,EACHqB,MAAM,CAAC,MAAM,CACbI,QAAQ,CAAC,YAAa;AAAA,CACtBC,KAAK,CAAEpB,IAAK,CACZqB,QAAQ,CAAGD,KAAK,EAAKnB,OAAO,CAACmB,KAAK,CAAE,CACpCE,OAAO,CAAE,CAAEC,mBAAmB,CAAE,IAAK,CAAE,CAC1C,CAAC,cACF3B,IAAA,WAAQ4B,OAAO,CAAElB,gBAAiB,CAAAU,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAChDpB,IAAA,WAAQ4B,OAAO,CAAEZ,WAAY,CAAAI,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAC3ClB,KAAA,QAAAkB,QAAA,eACIpB,IAAA,OAAAoB,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdpB,IAAA,QAAAoB,QAAA,CAAMZ,MAAM,CAAM,CAAC,EAClB,CAAC,EACL,CAAC,cACNN,KAAA,QAAKe,KAAK,CAAE,CAAEY,KAAK,CAAE,OAAO,CAAEP,OAAO,CAAE,MAAM,CAAEQ,UAAU,CAAE,gBAAiB,CAAE,CAAAV,QAAA,eAC1EpB,IAAA,OAAAoB,QAAA,CAAI,iBAAK,CAAI,CAAC,cACdpB,IAAA,QAAAoB,QAAA,CAAMd,WAAW,CAAM,CAAC,EACvB,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAH,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}